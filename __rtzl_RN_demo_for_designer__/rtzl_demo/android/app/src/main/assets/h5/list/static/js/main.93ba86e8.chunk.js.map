{"version":3,"sources":["util/index.js","components/Body/index.js","components/ListView/index.js","UI/TopTitle/index.js","page/ajax.js","page/App.js","index.js"],"names":["util","etype","info","window","ReactNativeWebView","postMessage","JSON","stringify","startDate","endDate","alert","sy","getFullYear","sm","getMonth","sd","getDate","result","mendUpNumber","ey","em","ed","num","tr","tbody","children","forEach","item","className","replace","arr1","arr2","arr","map","i","_item","title","dataIndex","key","console","log","Default","this","props","React","Component","pageIndex","genData","pIndex","nums","dataArr","push","onRefresh","onEndReached","event","loading","state","isLoading","hasMore","refreshing","setState","callback","loaded","nomore","loadData","data","dataSource","cloneWithRows","rData","length","setData","ListView","DataSource","rowHasChanged","row1","row2","height","document","documentElement","clientHeight","body","style","overflow","hei","ReactDOM","findDOMNode","lv","offsetTop","separator","renderItem","onClick","itemIndex","renderFooter","ref","el","renderRow","rowData","sectionID","rowID","renderSeparator","useBodyScroll","pullToRefresh","damping","distanceToRefresh","onEndReachedThreshold","initialListSize","renderAddonsIcon","name","PlusCircleOutlined","ScanOutlined","QuestionOutlined","renderAddons","addons","Array","adddonsArr","fn","text","overlay","placement","arrow","MenuOutlined","canBack","LeftOutlined","traceBack","onPressBack","ajax","unshift","person","date","remarks","renderListItem","obj","App","pageLoading","detail","onClickItem","x","listLoading","refs","listLoaded","noMoreItem","loadListData","setListData","onRefreshList","reset","setTimeout","reData","ps","moreData","addEventListener","res","parse","args","Body","width","render","getElementById"],"mappings":"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","file":"static/js/main.93ba86e8.chunk.js","sourcesContent":["const util = {};\r\n\r\n//通向RN端\r\n//信息传输\r\n//字符串表示简单信息(生命周期相关)\r\n//对象\r\n// {type:\"string\",content:\"xxxxxxxxxxxxxxxxxxxxxx\"}----------回传一个字符串\r\n// {type:\"navigation\",path:\"xxxxxxxxxxx\",params:{}}----------带参数跳转到某页面\r\n// {type:\"event\",params:{}}----------------------------------带参数触发某事件\r\n\r\nutil.traceBack = (etype, info) => {\r\n  if (window.ReactNativeWebView && window.ReactNativeWebView.postMessage) {\r\n    if (typeof info === \"string\") {\r\n      window.ReactNativeWebView.postMessage(JSON.stringify({ etype, info }));\r\n    } else if (!info) {\r\n      window.ReactNativeWebView.postMessage(JSON.stringify({ etype }));\r\n    } else {\r\n      window.ReactNativeWebView.postMessage(JSON.stringify({ etype, ...info }));\r\n    }\r\n  }\r\n};\r\n\r\n//\r\nutil.dateToString = (startDate, endDate) => {\r\n  if (!startDate) {\r\n    alert(\"没有一个日期\");\r\n    return \"\";\r\n  }\r\n\r\n  let sy = startDate.getFullYear();\r\n  let sm = startDate.getMonth() + 1;\r\n  let sd = startDate.getDate();\r\n  let result = sy + \"/\" + util.mendUpNumber(sm) + \"/\" + util.mendUpNumber(sd);\r\n\r\n  if (endDate) {\r\n    let ey = endDate.getFullYear();\r\n    let em = endDate.getMonth() + 1;\r\n    let ed = endDate.getDate();\r\n    result +=\r\n      \" 至 \" + ey + \"/\" + util.mendUpNumber(em) + \"/\" + util.mendUpNumber(ed);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n//\r\nutil.mendUpNumber = num => {\r\n  if (num < 10) {\r\n    return \"0\" + num;\r\n  }\r\n  return num;\r\n};\r\n\r\n//表格操作高亮\r\nutil.setItUp = (tr, tbody) => {\r\n  //先清空类别名\r\n  [...tbody.children].forEach(item => {\r\n    item.className = item.className.replace(/\\sactive/, ``);\r\n  });\r\n\r\n  tr.className += \" active\";\r\n};\r\n\r\n//快捷配置列名\r\n// {\r\n//   title: \"拣配日期\",\r\n//   dataIndex: \"date\",\r\n//   key: \"date\"\r\n// },\r\nutil.calcColumn = (arr1, arr2) => {\r\n  let arr = arr1.map((item, i) => {\r\n    let _item = {};\r\n    _item.title = item;\r\n    _item.dataIndex = arr2[i];\r\n    _item.key = arr2[i];\r\n    return _item;\r\n  });\r\n  console.log(arr);\r\n  return arr;\r\n};\r\n\r\nexport default util;\r\n","import React from \"react\";\nimport \"./style.css\";\n\nclass Default extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app-container\">\n\t\t\t\t<div className=\"app-contents\">{this.props.children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Default;\n","// ===============================================================\n// === ListView\n// === v1.0.0\n// === 首次编辑日期：2020-10-21\n// === 作者：zbc\n// === 上一次维护日期：2020-10-26\n// ===============================================================\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.css\";\nimport { PullToRefresh, ListView } from \"antd-mobile\";\n// **************************************************************\nimport \"antd-mobile/lib/pull-to-refresh/style/css\"; // 加载 CSS\nimport \"antd-mobile/lib/list-view/style/css\"; // 加载 CSS\n// **************************************************************\n\n// ===============================================================\n// 可配置控制项\n// 一页最多几条\nconst NUM_ROWS = 20;\n// ===============================================================\n// 当前页\nlet pageIndex = 0;\n\nfunction genData(pIndex = 0, nums = NUM_ROWS) {\n\t// nums = nums > NUM_ROWS ? NUM_ROWS : nums;\n\tconst dataArr = [];\n\tfor (let i = 0; i < nums; i++) {\n\t\tdataArr.push(`row - ${pIndex * nums + i}`);\n\t}\n\treturn dataArr;\n}\n\nclass Default extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst dataSource = new ListView.DataSource({\n\t\t\trowHasChanged: (row1, row2) => row1 !== row2\n\t\t});\n\n\t\tthis.state = {\n\t\t\t// 原始数据\n\t\t\tdata: [],\n\n\t\t\t// 特殊格式数据\n\t\t\tdataSource,\n\t\t\trefreshing: false,\n\t\t\tisLoading: false,\n\t\t\thasMore: true,\n\t\t\theight: document.documentElement.clientHeight\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.body.style.overflow = \"hidden\";\n\t\tconst hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\n\t\tthis.setState({\n\t\t\theight: hei\n\t\t});\n\t}\n\n\tonRefresh = () => {\n\t\tconsole.log(\"inner-com-list onRefresh\");\n\t\tconst { onRefresh } = this.props;\n\n\t\tif (typeof onRefresh === \"function\") onRefresh();\n\t};\n\n\tonEndReached = event => {\n\t\tconsole.log(\"inner-com-list onEndReached\");\n\t\tthis.loading(() => {\n\t\t\t// load new data\n\t\t\t// hasMore: from backend data, indicates whether it is the last page, here is false\n\t\t\tif (this.state.isLoading && !this.state.hasMore) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log(\"onEndReached 加载一次\");\n\t\t\tconst { onEndReached } = this.props;\n\t\t\tif (typeof onEndReached === \"function\") onEndReached(pageIndex);\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { dataSource, data, isLoading, hasMore } = this.state;\n\t\tconst { separator, renderItem, onClick } = this.props;\n\n\t\tlet itemIndex = data.length - 1;\n\t\tconst preRenderItem = (rowData, sectionID, rowID) => {\n\t\t\treturn renderItem({\n\t\t\t\tdata,\n\t\t\t\tonClick,\n\t\t\t\titemIndex: itemIndex--,\n\t\t\t\trowData,\n\t\t\t\tsectionID,\n\t\t\t\trowID\n\t\t\t});\n\t\t};\n\n\t\tconst renderFooter = (isLoading, hasMore) => {\n\t\t\tif (!hasMore) {\n\t\t\t\treturn <span>没有更多数据了</span>;\n\t\t\t} else if (isLoading && hasMore) {\n\t\t\t\treturn <span>加载更多...</span>;\n\t\t\t} else {\n\t\t\t\treturn <span></span>;\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ListView\n\t\t\t\t\tref={el => (this.lv = el)}\n\t\t\t\t\tdataSource={this.state.dataSource}\n\t\t\t\t\trenderFooter={() => (\n\t\t\t\t\t\t<div className={\"list-view-footer-container\"}>\n\t\t\t\t\t\t\t{renderFooter(isLoading, hasMore)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\trenderRow={preRenderItem}\n\t\t\t\t\trenderSeparator={separator}\n\t\t\t\t\tuseBodyScroll={false}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: this.state.height\n\t\t\t\t\t}}\n\t\t\t\t\tpullToRefresh={\n\t\t\t\t\t\t<PullToRefresh\n\t\t\t\t\t\t\trefreshing={this.state.refreshing}\n\t\t\t\t\t\t\tonRefresh={this.onRefresh}\n\t\t\t\t\t\t\tdamping={24}\n\t\t\t\t\t\t\tdistanceToRefresh={24}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tonEndReachedThreshold={1}\n\t\t\t\t\t// initialListSize={data.length < NUM_ROWS ? data.length : NUM_ROWS}\n\t\t\t\t\tinitialListSize={data.length}\n\t\t\t\t\tonEndReached={this.onEndReached}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// ********************************\n\trefreshing = () => {\n\t\tthis.setState({\n\t\t\trefreshing: true\n\t\t});\n\t};\n\n\tloading = callback => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisLoading: true\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (typeof callback === \"function\") callback();\n\t\t\t}\n\t\t);\n\t};\n\n\tloaded = () => {\n\t\tthis.setState({\n\t\t\tisLoading: false,\n\t\t\trefreshing: false\n\t\t});\n\t};\n\n\tnomore = () => {\n\t\tthis.setState({\n\t\t\thasMore: false\n\t\t});\n\t};\n\n\t// 用于初始加载数据/刷新数据\n\tloadData = data => {\n\t\t// 率先清空\n\t\tpageIndex = 0;\n\t\tthis.setState({\n\t\t\thasMore: true,\n\t\t\tdata: [],\n\t\t\tdataSource: this.state.dataSource.cloneWithRows(genData(0, 0))\n\t\t});\n\n\t\tthis.rData = genData(0, data.length);\n\t\tthis.setState({\n\t\t\tdata,\n\t\t\tdataSource: this.state.dataSource.cloneWithRows(this.rData)\n\t\t});\n\t};\n\n\t// 用于填充更多数据\n\tsetData = data => {\n\t\tthis.rData = [...this.rData, ...genData(++pageIndex, data.length)];\n\t\tthis.setState({\n\t\t\tdata: [...this.state.data, ...data],\n\t\t\tdataSource: this.state.dataSource.cloneWithRows(this.rData)\n\t\t});\n\t};\n}\n\nexport default Default;\n","// =======================rtmcc==========================\n// UI-TopTitle\n// UI-顶部标题\n// v1.0.0\n// create-date:2020-11-18\n// developer:zbc\n// last maintian date:2020-11-18\n// =======================rtmcc==========================\nimport React from \"react\";\nimport \"./style.scss\";\nimport util from \"../../util/index\";\nimport { Dropdown } from \"antd\";\nimport \"antd/es/dropdown/style/css\";\nimport \"antd\";\nimport {\n\tLeftOutlined,\n\tMenuOutlined,\n\tQuestionOutlined,\n\tPlusCircleOutlined,\n\tScanOutlined\n} from \"@ant-design/icons\";\n\nconst renderAddonsIcon = name => {\n\tswitch (name) {\n\t\tcase \"add\":\n\t\t\treturn <PlusCircleOutlined />;\n\t\tcase \"scan\":\n\t\t\treturn <ScanOutlined />;\n\t\tdefault:\n\t\t\treturn <QuestionOutlined />;\n\t}\n};\n\nconst onPressBack = props => {\n\tutil.traceBack(\"back-btn\");\n\tconst { onPressBack } = props;\n\tif (typeof onPressBack === \"function\") {\n\t\tonPressBack();\n\t}\n};\n\nconst renderAddons = props => {\n\tconst { addons } = props;\n\tif (addons instanceof Array && addons.length) {\n\t\tconst adddonsArr = addons.map((item, i) => {\n\t\t\tconst { fn } = item;\n\t\t\treturn (\n\t\t\t\t<li\n\t\t\t\t\tkey={`ia${i}`}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (typeof fn === \"function\") fn();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{renderAddonsIcon(item.name)}\n\t\t\t\t\t<span>{item.text}</span>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\toverlay={\n\t\t\t\t\t<ul className=\"rtmcc-rnweb-top-title-right-addons\">{adddonsArr}</ul>\n\t\t\t\t}\n\t\t\t\tplacement=\"bottomLeft\"\n\t\t\t\tarrow\n\t\t\t>\n\t\t\t\t<MenuOutlined />\n\t\t\t</Dropdown>\n\t\t);\n\t}\n};\n\nexport default class extends React.Component {\n\trender() {\n\t\tconst { title, addons, canBack } = this.props;\n\t\treturn (\n\t\t\t<div className=\"rtmcc-rnweb-top-title\">\n\t\t\t\t{canBack ? (\n\t\t\t\t\t<LeftOutlined\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonPressBack(this.props);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t<p>{title}</p>\n\t\t\t\t{renderAddons(this.props)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","const ajax = {};\n\najax.data = () => {\n\tconst L = 10;\n\tconst arr = [];\n\tfor (let i = 0; i < L; i++) {\n\t\tarr.unshift({\n\t\t\tname: `文件名test${i}`,\n\t\t\tperson: `admin`,\n\t\t\tdate: `2020-06-${i + 10}`,\n\t\t\tremarks: `一些很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣的备注内容`\n\t\t});\n\t}\n\tconsole.log(arr);\n\treturn arr;\n};\n\najax.reData = () => {\n\tconst L = 10;\n\tconst arr = [];\n\tfor (let i = 0; i < L; i++) {\n\t\tarr.unshift({\n\t\t\tname: `文件名ttest${i}`,\n\t\t\tperson: `admin`,\n\t\t\tdate: `2020-07-${i + 10}`,\n\t\t\tremarks: `一些很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣的备注内容`\n\t\t});\n\t}\n\treturn arr;\n};\n\najax.moreData = () => {\n\tconst L = 3;\n\tconst arr = [];\n\tfor (let i = 0; i < L; i++) {\n\t\tarr.push({\n\t\t\tname: `文件名test${i + 10}`,\n\t\t\tperson: `admin`,\n\t\t\tdate: `2020-08-${i + 20}`,\n\t\t\tremarks: `一些很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣很有趣的备注内容`\n\t\t});\n\t}\n\treturn arr;\n};\n\nexport default ajax;\n","import React from \"react\";\nimport \"./App.css\";\nimport util from \"../util/index\";\n// ====================================\nimport Body from \"../components/Body/index\";\nimport ListView from \"../components/ListView/index\";\n// ====================================\nimport TopTitle from \"../UI/TopTitle/index\";\nimport ajax from \"./ajax.js\";\n\n// debug模式\nconst debugging = true;\n\n// 渲染每一项\nconst renderListItem = ({\n\tdata,\n\tonClick,\n\titemIndex,\n\trowData,\n\tsectionID,\n\trowID\n}) => {\n\tif (itemIndex < 0) {\n\t\titemIndex = data.length - 1;\n\t}\n\tconst obj = data[itemIndex];\n\tif (!obj) return null;\n\treturn (\n\t\t<div\n\t\t\tkey={rowID}\n\t\t\tclassName=\"item-outer\"\n\t\t\tonClick={() => {\n\t\t\t\tif (typeof onClick === \"function\") onClick(obj);\n\t\t\t\tutil.traceBack(\"clickItem\", obj);\n\t\t\t}}\n\t\t>\n\t\t\t<p className=\"title\">{obj.name}</p>\n\t\t\t<p className=\"remarks\">{obj.remarks}</p>\n\t\t\t<div className=\"spliter\"></div>\n\t\t\t<p className=\"detail\">\n\t\t\t\t<span>上传人：{obj.person}</span>\n\t\t\t\t<span>上传时间：{obj.date}</span>\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n\nclass App extends React.Component {\n\tstate = {\n\t\ttitle: \"\",\n\t\tpageLoading: false,\n\t\tdetail: {}\n\t};\n\n\tcomponentDidMount() {\n\t\t//告知RN页面已经装载完毕\n\t\tutil.traceBack(\"pageState\", \"componentDidMount\");\n\t\t//监听事件以及时读取RN传回的数据\n\t\tdocument.addEventListener(\"message\", event => {\n\t\t\tlet res = JSON.parse(event.data);\n\t\t\tif (res.etype === \"data\") {\n\t\t\t\tlet obj = { ...res };\n\t\t\t\tdelete obj.etype;\n\t\t\t\tthis.setState({\n\t\t\t\t\t...obj\n\t\t\t\t});\n\t\t\t} else if (res.etype === \"event\") {\n\t\t\t\tlet { event, args } = res;\n\t\t\t\tif (typeof this[event] === \"function\") this[event](args);\n\t\t\t}\n\t\t});\n\n\t\t// ***************************************************\n\t\tif (debugging) {\n\t\t\tthis.loadListData(ajax.data());\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Body>\n\t\t\t\t<TopTitle title={`一般列表页`} canBack />\n\t\t\t\t<div style={{ width: \"100%\", height: \"10px\" }} />\n\t\t\t\t<ListView\n\t\t\t\t\tref=\"lv\"\n\t\t\t\t\theight={document.documentElement.clientHeight}\n\t\t\t\t\tonClick={this.onClickItem}\n\t\t\t\t\trenderItem={renderListItem}\n\t\t\t\t\tonRefresh={this.onRefreshList}\n\t\t\t\t\tonEndReached={this.onEndReached}\n\t\t\t\t\tseparator={null}\n\t\t\t\t/>\n\t\t\t</Body>\n\t\t);\n\t}\n\n\tonClickItem = x => {\n\t\tif (debugging) {\n\t\t\tutil.traceBack(\"clickItem\");\n\t\t}\n\t};\n\n\tlistLoading = () => {\n\t\tthis.refs.lv.loading();\n\t};\n\n\tlistLoaded = () => {\n\t\tthis.refs.lv.loaded();\n\t};\n\n\tnoMoreItem = () => {\n\t\tthis.refs.lv.nomore();\n\t};\n\n\tloadListData = data => {\n\t\tthis.refs.lv.loadData(data);\n\t};\n\n\tsetListData = data => {\n\t\tthis.refs.lv.setData(data);\n\t};\n\n\tonRefreshList = reset => {\n\t\tthis.refs.lv.refreshing();\n\t\tif (debugging) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.loadListData(ajax.reData());\n\t\t\t\tthis.listLoaded();\n\t\t\t}, 1500);\n\t\t}\n\t\tutil.traceBack(\"onRefreshList\");\n\t};\n\n\tonEndReached = ps => {\n\t\tif (debugging) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setListData(ajax.moreData());\n\t\t\t}, 1500);\n\t\t}\n\t\tutil.traceBack(\"onEndReached\", { ps });\n\t};\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./page/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}